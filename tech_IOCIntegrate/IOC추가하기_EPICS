EPICS 에 IOC 를 integrate 하는 방법

snmpTest 의 IOC 를 예를들어 설명한다.

hjson@ctrlhj:~/epics/R3.14.12.5/siteApps$ ls
exAsynRecord  glassManPS    raspberry       snmp        srs725  Tr4
exSysMon      grackApps     rdbPG           snmp2       Tr1     Tr5
exTimeStamp   keithley6514  README.siteApp  snmpTest    Tr2     Tr6
exTr5         modbusR2-7    rtp             sorensenPS  Tr3

위와 같이 siteApps 에는 기존에 만들어 놓은 IOC 를 돌릴 수 있는 IOC 관련 파일들이 있는 폴더들이 존재한다.
또한 기존에 IOC 를 돌리기 위한 Library 파일들은 아래의 경로에 저장되어 있다.

hjson@ctrlhj:~/epics/R3.14.12.5/siteLibs$ ls
bin            ether_ipLib    Makefile           RPiLibPack  sysMonLib
configure      glassManPSLib  Makefile.template  rtpLib      TC353LibSrc
db             ifstatLib      rdbpgLib           s7plcLib    timestampLib
dbd            include        README             snmpLib     XGS600LibSrc
documentation  lib            README.siteLibs    snmpMSULib

우리는 지금 위의 library 뿐만아니라 epicsLibs에 있는 Library 를 이용해서
IOC integrate 작업을 실행할 것이므로 epicsLibs 에 있는 파일들을 snmpTest의 IOC 에서 불러오는 
작업을 진행할 것이다.

먼저 siteApps 의 snmpTest 디렉토리를 살펴보면,

hjson@ctrlhj:~/epics/R3.14.12.5/siteApps/snmpTest$ ls
bin  configure  db  dbd  iocBoot  Makefile  snmpTestApp

위와 같은 파일들이 모두 존재해야 IOC 가 제대로 작동한다.

hjson@ctrlhj:~/epics/R3.14.12.5/siteApps/snmpTest/snmpTestApp$ ls
Db  Makefile  src

snmpTestApp 디렉토리 안에는 Db, src 두 개의 디렉토리와 Makefile 이 존재한다.

Db 디렉토리 안에는 IOC 에서 PV 로 이용될 db 파일들이 있다. 

hjson@ctrlhj:~/epics/R3.14.12.5/siteApps/snmpTest/snmpTestApp/Db$ ls
access.db           iocAdminVxWorks.db  iocRTEMSOnly.db    Makefile
alive.db            iocCluster.db       iocRTOS.db         O.Common
iocAdminRTEMS.db    ioc.db              iocScanMon.db      O.linux-x86_64
iocAdminScanMon.db  iocEnvVar.db        iocScanMonSum.db   timestamp.vdb
iocAdminSoft.db     iocGeneralTime.db   iocVxWorksOnly.db  xerox.vdb

원래 snmpTest Db 에는 'xerox.vdb' 만 존재했으나 alive IOC 및 devIocStat IOC 를 Integrate 하기 위해
추가로 db 파일들을 복사해 놓았다. 

hjson@ctrlhj:~/epics/R3.14.12.5/siteApps/snmpTest/snmpTestApp/src$ ls
Makefile  O.Common  O.linux-x86_64  snmpTestMain.cpp

위의 src 디렉토리에는 Makefile이 존재하는데 이 파일에 alive, devIocStat 를 Integrate 하기 위해서
아래와 같이 header 파일이 있는 include 경로와 dbd 파일이 있는 경로를 추가 하였다.

hjson@ctrlhj:~/epics/R3.14.12.5/siteApps/snmpTest/snmpTestApp/src$ nano Makefile

위의 명령어를 실행하여 편집기로 Makefile을 아래와 같이 수정하였다.

  GNU nano 2.2.6              File: Makefile                                    

TOP=../..

include $(TOP)/configure/CONFIG


USR_INCLUDES += -I${RAON_SITELIBS}/include/
USR_DBDFLAGS += -I${RAON_SITELIBS}/dbd/
USR_INCLUDES += -I$(EPICS_EXTENSIONS)/include
        
## alive IOC 를 돌리기 위한 header 파일이 존재하는 위치##
USR_INCLUDES += -I${EPICS_PATH}/epicsLibs/synApps_5_8/support/alive-1-0/include

## alive IOC 를 돌리기 위한 dbd 파일이 존재하는 위치 ##
USR_DBDFLAGS += -I${EPICS_PATH}/epicsLibs/synApps_5_8/support/alive-1-0/aliveAp$

## devIocStats IOC를 돌리기 위한 설정(dbd 파일이 있는 경로는 모두 추가시킴) ##
USR_INCLUDES += -I${EPICS_PATH}/epicsLibs/synApps_5_8/support/devIocStats-3-1-1$
USR_DBDFLAGS += -I${EPICS_PATH}/epicsLibs/synApps_5_8/support/devIocStats-3-1-1$
USR_DBDFLAGS += -I${EPICS_PATH}/epicsLibs/synApps_5_8/support/devIocStats-3-1-1$
USR_DBDFLAGS += -I${EPICS_PATH}/epicsLibs/synApps_5_8/support/devIocStats-3-1-1$

USR_DBDFLAGS += -I${EPICS_PATH}/epicsLibs/synApps_5_8/support/devIocStats-3-1-1$
USR_DBDFLAGS += -I${EPICS_PATH}/epicsLibs/synApps_5_8/support/devIocStats-3-1-1$
USR_INCLUDES += -I${EPICS_PATH}/epicsLibs/synApps_5_8/support/devIocStats-3-1-1$

## 아래는 무엇을 위한 구문인지 잘 모르겠으나 기존 snmp 파일의 구문을 참조해서 추가시킴 ##
snmpMon_DIR += ${RAON_SITELIBS}/lib/$(T_A)
timeStamp_DIR += $(RAON_SITELIBS)/lib/$(T_A)
alive_DIR += ${EPICS_PATH}/epicsLibs/synApps_5_8/support/alive-1-0/lib/$(T_A)

devIocStats_DIR += ${EPICS_PATH}/epicsLibs/synApps_5_8/support/devIocStats-3-1-$

## 아래는 dbd 파일을 추가시키기 위한 구문이다. ##

#----------------------------------------
#  ADD MACRO DEFINITIONS AFTER THIS LINE
#=============================

#=============================
# Build the IOC application

PROD_IOC = snmpTest
# snmpTest.dbd will be created and installed
DBD += snmpTest.dbd

# snmpTest.dbd will be made up from these files:
snmpTest_DBD += base.dbd
snmpTest_DBD += snmpRecord.dbd
snmpTest_DBD += timestampRecord.dbd

# Include dbd files from all support applications:
#snmpTest_DBD += xxx.dbd
snmpTest_DBD += snmpDevSoft.dbd
snmpTest_DBD += timestampDevSoft.dbd

snmpTest_DBD += aliveRecord.dbd
snmpTest_DBD += aliveSupport.dbd
snmpTest_DBD += aliveEx.dbd

snmpTest_DBD += devIocStats.dbd
snmpTest_DBD += devVxStats.dbd
snmpTest_DBD += iocAdmin.dbd
snmpTest_DBD += testIocStats.dbd
snmpTest_DBD += testIocAdmin.dbd


# Add all the support libraries needed by this IOC
#snmpTest_LIBS += xxx
snmpTest_LIBS += snmpMon timeStamp

snmpTest_LIBS += alive
snmpTest_LIBS += devIocStats

# snmpTest_registerRecordDeviceDriver.cpp derives from snmpTest.dbd
snmpTest_SRCS += snmpTest_registerRecordDeviceDriver.cpp

# Build the main IOC entry point on workstation OSs.
snmpTest_SRCS_DEFAULT += snmpTestMain.cpp
snmpTest_SRCS_vxWorks += -nil-

# Add support from base/src/vxWorks if needed
#snmpTest_OBJS_vxWorks += $(EPICS_BASE_BIN)/vxComLibrary

# Finally link to the EPICS Base libraries
snmpTest_LIBS += $(EPICS_BASE_IOC_LIBS)

#===========================

include $(TOP)/configure/RULES
#----------------------------------------
#  ADD RULES AFTER THIS LINE

위와 같이 편집기를 이용해서 Makefile를 수정함.

여기까지 snmpTestApp 에서 두 개의 IOC 를 추가시키기 위한 작업은 마쳤다. 
(현재 2015년 4월 15일 IOC는 돌아는 가는데 에러 코드가 뜬다.....)

snmpTest IOC 실행파일을 수정하기 위해 아래의 경로에서 st.cmd 파일을 수정한다.

hjson@ctrlhj:~/epics/R3.14.12.5/siteApps/snmpTest/iocBoot/iocsnmpTest$ ls
envPaths  Makefile  st.cmd

편집기를 이용해서 st.cmd 파일을 아래와 같이 수정하였다.

#!../../bin/linux-x86_64/snmpTest

## You may have to change snmpTest to something else
## everywhere it appears in this file

< envPaths

cd "${TOP}"

## Register all support components
dbLoadDatabase "dbd/snmpTest.dbd"
snmpTest_registerRecordDeviceDriver pdbbase

## Load record instances
#dbLoadRecords("db/xxx.db","user=hjsonHost")
dbLoadRecords("db/xerox.vdb", "HOST=10.1.4.184, COM=public, V2C=SNMP_VERSION_2c, PR=Printer-MIB::$
dbLoadRecords("db/timestamp.vdb", "S=SNMPIOC")

## alive db 를 추가하였다. ##

dbLoadRecords("db/alive.db", "P=aliveEx:,RHOST=x.x.x.x")

## devIocStat db 들을 아래와 같이 추가하였다. 형식은 decIocStat 에 있는 st.cmd 파일을 참고함. ##

## Load all record instances (VxWorks)
dbLoadRecords("db/iocAdminVxWorks.db","IOC=IOCTEST")
## or load only those records for RTEMS IOCs
dbLoadRecords("db/iocAdminRTEMS.db","IOC=IOCTEST")
## or load only those records for Soft IOCs
dbLoadRecords("db/iocAdminSoft.db","IOC=IOCTEST")
## optionally load the SCAN monitoring records
dbLoadRecords("db/iocAdminScanMon.db","IOC=IOCTEST")
## optionally load RELEASE records
dbLoadRecords("db/testIocAdminRelease.db","IOC=IOCTEST")

##dbLoadRecords("db/access.db", "P=accessEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocRTEMSOnly.db", "P=iocRTEMSOnlyEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocAdminVxWorks.db", "P=iocAdminVxWorksEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocCluster.db", "P=iocClusterEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocRTOS.db", "P=iocRTOSEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocAdminScanMon.db", "P=iocAdminScanMonEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocEnvVar.db", "P=iocEnvVarEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocAdminSoft.db", "P=iocAdminSoftEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocGeneralTime.db", P=iocGeneralTimeEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocVxWorksOnly.db", P=iocVxWorksOnlyEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/ioc.db", P=iocEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocScanMonSum.db", P=iocScanMonSumEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocAdminRTEMS.db", P=iocAdminRTEMSEx:,RHOST=x.x.x.x")

cd "${TOP}/iocBoot/${IOC}"
iocInit

## Start any sequence programs
#seq sncxxx,"user=hjsonHost"

위 과정까지 마친 후 snmpTest IOC 를 구동하여 보았다.

hjson@ctrlhj:~/epics/R3.14.12.5/siteApps/snmpTest/iocBoot/iocsnmpTest$ ./st.cmd 
#!../../bin/linux-x86_64/snmpTest
## You may have to change snmpTest to something else
## everywhere it appears in this file
< envPaths
epicsEnvSet("ARCH","linux-x86_64")
epicsEnvSet("IOC","iocsnmpTest")
epicsEnvSet("TOP","/home/hjson/epics/R3.14.12.5/siteApps/snmpTest")
cd "/home/hjson/epics/R3.14.12.5/siteApps/snmpTest"
## Register all support components
dbLoadDatabase "dbd/snmpTest.dbd"
snmpTest_registerRecordDeviceDriver pdbbase
## Load record instances
#dbLoadRecords("db/xxx.db","user=hjsonHost")
dbLoadRecords("db/xerox.vdb", "HOST=10.1.4.184, COM=public, V2C=SNMP_VERSION_2c, PR=Printer-MIB::")
dbLoadRecords("db/timestamp.vdb", "S=SNMPIOC")
dbLoadRecords("db/alive.db", "P=aliveEx:,RHOST=x.x.x.x")
## Load all record instances (VxWorks)
dbLoadRecords("db/iocAdminVxWorks.db","IOC=IOCTEST")
## or load only those records for RTEMS IOCs
dbLoadRecords("db/iocAdminRTEMS.db","IOC=IOCTEST")
Can't create alias "IOCTEST:SysReset" for "IOCTEST:SysReset"
Error at or before ")" in file "db/iocAdminRTEMS.db" line 61
Can't create alias "IOCTEST:LOAD" for "IOCTEST:LOAD"
Error## or load only those records for Soft IOCs
dbLoadRecords("db/iocAdminSoft.db","IOC=IOCTEST")
Can't create alias "IOCTEST:SysReset" for "IOCTEST:SysReset"
Error at or before ")" in file "db/iocAdminSoft.db" line 61
Can't create alias "IOCTEST:LOAD" for "IOCTEST:LOAD"
Error## optionally load the SCAN monitoring records
dbLoadRecords("db/iocAdminScanMon.db","IOC=IOCTEST")
## optionally load RELEASE records
dbLoadRecords("db/testIocAdminRelease.db","IOC=IOCTEST")
filename="../dbLexRoutines.c" line number=240
No such file or directory dbRead opening file db/testIocAdminRelease.db
##dbLoadRecords("db/access.db", "P=accessEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocRTEMSOnly.db", "P=iocRTEMSOnlyEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocAdminVxWorks.db", "P=iocAdminVxWorksEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocCluster.db", "P=iocClusterEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocRTOS.db", "P=iocRTOSEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocAdminScanMon.db", "P=iocAdminScanMonEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocEnvVar.db", "P=iocEnvVarEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocAdminSoft.db", "P=iocAdminSoftEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocGeneralTime.db", P=iocGeneralTimeEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocVxWorksOnly.db", P=iocVxWorksOnlyEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/ioc.db", P=iocEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocScanMonSum.db", P=iocScanMonSumEx:,RHOST=x.x.x.x")
##dbLoadRecords("db/iocAdminRTEMS.db", P=iocAdminRTEMSEx:,RHOST=x.x.x.x")

위와 같은 에러코드가 나왔다. 디바이스가 없어서인지 모르겠지만 아래와 같은 문구와 함께
IOC 에서 돌아가는 PV 값들을 dbl 명령어로 확인할 수 있었다.

cd "/home/hjson/epics/R3.14.12.5/siteApps/snmpTest/iocBoot/iocsnmpTest"
iocInit
Starting iocInit
############################################################################
## EPICS R3.14.12.5 $Date: Tue 2015-03-24 09:57:35 -0500$
## EPICS Base built Mar 26 2015
############################################################################
device support devAiStats not found
device support devAiClusts not found
device support devAiStats not found
device support devAiClusts not found
device support devAoStats not found
device support devAoStats not found
device support devStringinStats not found
device support devStringinEnvVar not found
device support devStringinEpics not found
device support devStringinStats not found
device support devWaveformStats not found
Missing device support entry table PV: IOCTEST:CA_CLNT_CNT ai: init_record

Missing device support entry table PV: IOCTEST:CA_CONN_CNT ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_0_0 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_0_1 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_0_2 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_0_3 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_1_0 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_1_1 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_1_2 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_1_3 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_2_0 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_2_1 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_2_2 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_2_3 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_3_0 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_3_1 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_3_2 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_3_3 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_4_0 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_4_1 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_4_2 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_4_3 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_5_0 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_5_1 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_5_2 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_5_3 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_6_0 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_6_1 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_6_2 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_6_3 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_7_0 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_7_1 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_7_2 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_0_7_3 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_0_0 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_0_1 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_0_2 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_0_3 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_1_0 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_1_1 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_1_2 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_1_3 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_2_0 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_2_1 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_2_2 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_2_3 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_3_0 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_3_1 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_3_2 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_3_3 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_4_0 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_4_1 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_4_2 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_4_3 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_5_0 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_5_1 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_5_2 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_5_3 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_6_0 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_6_1 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_6_2 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_6_3 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_7_0 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_7_1 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_7_2 ai: init_record

Missing device support entry table PV: IOCTEST:CLUST_1_7_3 ai: init_record

Missing device support entry table PV: IOCTEST:CPU_CNT ai: init_record

Missing device support entry table PV: IOCTEST:DAT_MBUF_FREE ai: init_record

Missing device support entry table PV: IOCTEST:DAT_MBUF_MAX ai: init_record

Missing device support entry table PV: IOCTEST:FD_CNT ai: init_record

Missing device support entry table PV: IOCTEST:FD_MAX ai: init_record

Missing device support entry table PV: IOCTEST:IFI_ERR_CNT ai: init_record

Missing device support entry table PV: IOCTEST:IFO_ERR_CNT ai: init_record

Missing device support entry table PV: IOCTEST:IOC_CPU_LOAD ai: init_record

Missing device support entry table PV: IOCTEST:MEM_BLK ai: init_record

Missing device support entry table PV: IOCTEST:MEM_FREE ai: init_record

Missing device support entry table PV: IOCTEST:MEM_MAX ai: init_record

Missing device support entry table PV: IOCTEST:MEM_USED ai: init_record

Missing device support entry table PV: IOCTEST:RAM_WS_FREE ai: init_record

Missing device support entry table PV: IOCTEST:RAM_WS_MAX ai: init_record

Missing device support entry table PV: IOCTEST:RAM_WS_USED ai: init_record

Missing device support entry table PV: IOCTEST:RECORD_CNT ai: init_record

Missing device support entry table PV: IOCTEST:SUSP_TASK_CNT ai: init_record

Missing device support entry table PV: IOCTEST:SYS_CPU_LOAD ai: init_record

Missing device support entry table PV: IOCTEST:SYS_MBUF_FREE ai: init_record

Missing device support entry table PV: IOCTEST:SYS_MBUF_MAX ai: init_record

Missing device support entry table PV: IOCTEST:CA_UPD_TIME ao: init_record

Missing device support entry table PV: IOCTEST:FD_UPD_TIME ao: init_record

Missing device support entry table PV: IOCTEST:LOAD_UPD_TIME ao: init_record

Missing device support entry table PV: IOCTEST:MEM_UPD_TIME ao: init_record

Missing device support entry table PV: IOCTEST:APP_DIR1 stringin: init_record

Missing device support entry table PV: IOCTEST:APP_DIR2 stringin: init_record

Missing device support entry table PV: IOCTEST:BOOTLINE1 stringin: init_record

Missing device support entry table PV: IOCTEST:BOOTLINE2 stringin: init_record

Missing device support entry table PV: IOCTEST:BOOTLINE3 stringin: init_record

Missing device support entry table PV: IOCTEST:BOOTLINE4 stringin: init_record

Missing device support entry table PV: IOCTEST:BOOTLINE5 stringin: init_record

Missing device support entry table PV: IOCTEST:BOOTLINE6 stringin: init_record

Missing device support entry table PV: IOCTEST:BSP_REV stringin: init_record

Missing device support entry table PV: IOCTEST:CA_ADDR_LIST stringin: init_record

Missing device support entry table PV: IOCTEST:CA_AUTO_ADDR stringin: init_record

Missing device support entry table PV: IOCTEST:CA_BEAC_TIME stringin: init_record

Missing device support entry table PV: IOCTEST:CA_CONN_TIME stringin: init_record

Missing device support entry table PV: IOCTEST:CA_MAX_ARRAY stringin: init_record

Missing device support entry table PV: IOCTEST:CA_RPTR_PORT stringin: init_record

Missing device support entry table PV: IOCTEST:CA_SRCH_TIME stringin: init_record

Missing device support entry table PV: IOCTEST:CA_SRVR_PORT stringin: init_record

Missing device support entry table PV: IOCTEST:ENGINEER stringin: init_record

Missing device support entry table PV: IOCTEST:EPICS_VERS stringin: init_record

Missing device support entry table PV: IOCTEST:HOSTNAME stringin: init_record

Missing device support entry table PV: IOCTEST:IOC_LOG_INET stringin: init_record

Missing device support entry table PV: IOCTEST:IOC_LOG_PORT stringin: init_record

Missing device support entry table PV: IOCTEST:KERNEL_VERS stringin: init_record

Missing device support entry table PV: IOCTEST:LOCATION stringin: init_record

Missing device support entry table PV: IOCTEST:ST_SCRIPT1 stringin: init_record

Missing device support entry table PV: IOCTEST:ST_SCRIPT2 stringin: init_record

Missing device support entry table PV: IOCTEST:TIMEZONE stringin: init_record

Missing device support entry table PV: IOCTEST:TS_NTP_INET stringin: init_record

Missing device support entry table PV: IOCTEST:UPTIME stringin: init_record

Subroutine not found PV: IOCTEST:01HZ_UPD_TIME recSub(init_record)

Subroutine not found PV: IOCTEST:02HZ_UPD_TIME recSub(init_record)

Subroutine not found PV: IOCTEST:05HZ_UPD_TIME recSub(init_record)

Subroutine not found PV: IOCTEST:10HZ_UPD_TIME recSub(init_record)

Subroutine not found PV: IOCTEST:1HZ_UPD_TIME recSub(init_record)

Subroutine not found PV: IOCTEST:2HZ_UPD_TIME recSub(init_record)

Subroutine not found PV: IOCTEST:5HZ_UPD_TIME recSub(init_record)

Subroutine not found PV: IOCTEST:SYSRESET recSub(init_record)

Missing device support entry table PV: IOCTEST:APP_DIR wf: init_record

Missing device support entry table PV: IOCTEST:BOOTLINE wf: init_record

Missing device support entry table PV: IOCTEST:EPICS_VERSION wf: init_record

Missing device support entry table PV: IOCTEST:ST_SCRIPT wf: init_record

PV: IOCTEST:CA_CLNT_CNT scanAdd: I/O Intr not valid (no DSET) 

PV: IOCTEST:CA_CONN_CNT scanAdd: I/O Intr not valid (no DSET) 

PV: IOCTEST:DAT_MBUF_FREE scanAdd: I/O Intr not valid (no DSET) 

PV: IOCTEST:FD_CNT scanAdd: I/O Intr not valid (no DSET) 

PV: IOCTEST:IFI_ERR_CNT scanAdd: I/O Intr not valid (no DSET) 

PV: IOCTEST:IFO_ERR_CNT scanAdd: I/O Intr not valid (no DSET) 

PV: IOCTEST:IOC_CPU_LOAD scanAdd: I/O Intr not valid (no DSET) 

PV: IOCTEST:MEM_BLK scanAdd: I/O Intr not valid (no DSET) 

PV: IOCTEST:MEM_FREE scanAdd: I/O Intr not valid (no DSET) 

PV: IOCTEST:MEM_MAX scanAdd: I/O Intr not valid (no DSET) 

PV: IOCTEST:MEM_USED scanAdd: I/O Intr not valid (no DSET) 

PV: IOCTEST:RAM_WS_FREE scanAdd: I/O Intr not valid (no DSET) 

PV: IOCTEST:RAM_WS_MAX scanAdd: I/O Intr not valid (no DSET) 

PV: IOCTEST:RAM_WS_USED scanAdd: I/O Intr not valid (no DSET) 

PV: IOCTEST:SUSP_TASK_CNT scanAdd: I/O Intr not valid (no DSET) 

PV: IOCTEST:SYS_CPU_LOAD scanAdd: I/O Intr not valid (no DSET) 

PV: IOCTEST:SYS_MBUF_FREE scanAdd: I/O Intr not valid (no DSET) 

Missing device support routine PV: IOCTEST:CPU_CNT read_ai

Missing device support routine PV: IOCTEST:DAT_MBUF_MAX read_ai

Missing device support routine PV: IOCTEST:FD_MAX read_ai

Missing device support routine PV: IOCTEST:RECORD_CNT read_ai

Missing device support routine PV: IOCTEST:SYS_MBUF_MAX read_ai

Missing device support routine PV: IOCTEST:CA_UPD_TIME write_ao

Missing device support routine PV: IOCTEST:FD_UPD_TIME write_ao

Missing device support routine PV: IOCTEST:LOAD_UPD_TIME write_ao

Missing device support routine PV: IOCTEST:MEM_UPD_TIME write_ao

Missing device support routine PV: IOCTEST:APP_DIR1 read_stringin

Missing device support routine PV: IOCTEST:APP_DIR2 read_stringin

Missing device support routine PV: IOCTEST:BOOTLINE1 read_stringin

Missing device support routine PV: IOCTEST:BOOTLINE2 read_stringin

Missing device support routine PV: IOCTEST:BOOTLINE3 read_stringin

Missing device support routine PV: IOCTEST:BOOTLINE4 read_stringin

Missing device support routine PV: IOCTEST:BOOTLINE5 read_stringin

Missing device support routine PV: IOCTEST:BOOTLINE6 read_stringin

Missing device support routine PV: IOCTEST:BSP_REV read_stringin

Missing device support routine PV: IOCTEST:CA_ADDR_LIST read_stringin

Missing device support routine PV: IOCTEST:CA_AUTO_ADDR read_stringin

Missing device support routine PV: IOCTEST:CA_BEAC_TIME read_stringin

Missing device support routine PV: IOCTEST:CA_CONN_TIME read_stringin

Missing device support routine PV: IOCTEST:CA_MAX_ARRAY read_stringin

Missing device support routine PV: IOCTEST:CA_RPTR_PORT read_stringin

Missing device support routine PV: IOCTEST:CA_SRCH_TIME read_stringin

Missing device support routine PV: IOCTEST:CA_SRVR_PORT read_stringin

Missing device support routine PV: IOCTEST:ENGINEER read_stringin

Missing device support routine PV: IOCTEST:EPICS_VERS read_stringin

Missing device support routine PV: IOCTEST:HOSTNAME read_stringin

Missing device support routine PV: IOCTEST:IOC_LOG_INET read_stringin

Missing device support routine PV: IOCTEST:IOC_LOG_PORT read_stringin

Missing device support routine PV: IOCTEST:KERNEL_VERS read_stringin

Missing device support routine PV: IOCTEST:LOCATION read_stringin

Missing device support routine PV: IOCTEST:ST_SCRIPT1 read_stringin

Missing device support routine PV: IOCTEST:ST_SCRIPT2 read_stringin

Missing device support routine PV: IOCTEST:TIMEZONE read_stringin

Missing device support routine PV: IOCTEST:TS_NTP_INET read_stringin

Missing device support routine PV: IOCTEST:UPTIME read_stringin

Missing device support routine PV: IOCTEST:APP_DIR read_wf

Missing device support routine PV: IOCTEST:BOOTLINE read_wf

Missing device support routine PV: IOCTEST:EPICS_VERSION read_wf

Missing device support routine PV: IOCTEST:ST_SCRIPT read_wf

iocRun: All initialization complete
## Start any sequence programs
#seq sncxxx,"user=hjsonHost"
epics> dbl
IOCTEST:CA_CLNT_CNT
IOCTEST:CA_CONN_CNT
IOCTEST:CLUST_0_0_0
IOCTEST:CLUST_0_0_1
IOCTEST:CLUST_0_0_2
IOCTEST:CLUST_0_0_3
IOCTEST:CLUST_0_1_0
IOCTEST:CLUST_0_1_1
IOCTEST:CLUST_0_1_2
IOCTEST:CLUST_0_1_3
IOCTEST:CLUST_0_2_0
IOCTEST:CLUST_0_2_1
IOCTEST:CLUST_0_2_2
IOCTEST:CLUST_0_2_3
IOCTEST:CLUST_0_3_0
IOCTEST:CLUST_0_3_1
IOCTEST:CLUST_0_3_2
IOCTEST:CLUST_0_3_3
IOCTEST:CLUST_0_4_0
IOCTEST:CLUST_0_4_1
IOCTEST:CLUST_0_4_2
IOCTEST:CLUST_0_4_3
IOCTEST:CLUST_0_5_0
IOCTEST:CLUST_0_5_1
IOCTEST:CLUST_0_5_2
IOCTEST:CLUST_0_5_3
IOCTEST:CLUST_0_6_0
IOCTEST:CLUST_0_6_1
IOCTEST:CLUST_0_6_2
IOCTEST:CLUST_0_6_3
IOCTEST:CLUST_0_7_0
IOCTEST:CLUST_0_7_1
IOCTEST:CLUST_0_7_2
IOCTEST:CLUST_0_7_3
IOCTEST:CLUST_1_0_0
IOCTEST:CLUST_1_0_1
IOCTEST:CLUST_1_0_2
IOCTEST:CLUST_1_0_3
IOCTEST:CLUST_1_1_0
IOCTEST:CLUST_1_1_1
IOCTEST:CLUST_1_1_2
IOCTEST:CLUST_1_1_3
IOCTEST:CLUST_1_2_0
IOCTEST:CLUST_1_2_1
IOCTEST:CLUST_1_2_2
IOCTEST:CLUST_1_2_3
IOCTEST:CLUST_1_3_0
IOCTEST:CLUST_1_3_1
IOCTEST:CLUST_1_3_2
IOCTEST:CLUST_1_3_3
IOCTEST:CLUST_1_4_0
IOCTEST:CLUST_1_4_1
IOCTEST:CLUST_1_4_2
IOCTEST:CLUST_1_4_3
IOCTEST:CLUST_1_5_0
IOCTEST:CLUST_1_5_1
IOCTEST:CLUST_1_5_2
IOCTEST:CLUST_1_5_3
IOCTEST:CLUST_1_6_0
IOCTEST:CLUST_1_6_1
IOCTEST:CLUST_1_6_2
IOCTEST:CLUST_1_6_3
IOCTEST:CLUST_1_7_0
IOCTEST:CLUST_1_7_1
IOCTEST:CLUST_1_7_2
IOCTEST:CLUST_1_7_3
IOCTEST:CPU_CNT
IOCTEST:DAT_MBUF_FREE
IOCTEST:DAT_MBUF_MAX
IOCTEST:FD_CNT
IOCTEST:FD_MAX
IOCTEST:GTIM_TIME
IOCTEST:IFI_ERR_CNT
IOCTEST:IFO_ERR_CNT
IOCTEST:IOC_CPU_LOAD
IOCTEST:LOAD
IOCTEST:MEM_BLK
IOCTEST:MEM_FREE
IOCTEST:MEM_MAX
IOCTEST:MEM_USED
IOCTEST:RAM_WS_FREE
IOCTEST:RAM_WS_MAX
IOCTEST:RAM_WS_USED
IOCTEST:RECORD_CNT
IOCTEST:SUSP_TASK_CNT
IOCTEST:SYS_CPU_LOAD
IOCTEST:SYS_MBUF_FREE
IOCTEST:SYS_MBUF_MAX
IOCTEST:CA_UPD_TIME
IOCTEST:FD_UPD_TIME
IOCTEST:LOAD_UPD_TIME
IOCTEST:MEM_UPD_TIME
IOCTEST:01HZ_MODE
IOCTEST:02HZ_MODE
IOCTEST:05HZ_MODE
IOCTEST:10HZ_MODE
IOCTEST:1HZ_MODE
IOCTEST:2HZ_MODE
IOCTEST:5HZ_MODE
IOCTEST:GTIM_RESET
IOCTEST:DAT_CLUST_AVAIL_0
IOCTEST:DAT_CLUST_AVAIL_1
IOCTEST:DAT_CLUST_AVAIL_2
IOCTEST:DAT_CLUST_AVAIL_3
IOCTEST:DAT_CLUST_AVAIL_4
IOCTEST:DAT_CLUST_AVAIL_5
IOCTEST:DAT_CLUST_AVAIL_6
IOCTEST:DAT_CLUST_AVAIL_7
IOCTEST:FD_FREE
IOCTEST:MEM_BLK_FREE
IOCTEST:SCANMON_SEVR
IOCTEST:SYS_CLUST_AVAIL_0
IOCTEST:SYS_CLUST_AVAIL_1
IOCTEST:SYS_CLUST_AVAIL_2
IOCTEST:SYS_CLUST_AVAIL_3
IOCTEST:SYS_CLUST_AVAIL_4
IOCTEST:SYS_CLUST_AVAIL_5
IOCTEST:SYS_CLUST_AVAIL_6
IOCTEST:SYS_CLUST_AVAIL_7
IOCTEST:HEARTBEAT
IOCTEST:START_CNT
IOCTEST:GTIM_ERR_CNT
IOCTEST:ACCESS
IOCTEST:APP_DIR1
IOCTEST:APP_DIR2
IOCTEST:BOOTLINE1
IOCTEST:BOOTLINE2
IOCTEST:BOOTLINE3
IOCTEST:BOOTLINE4
IOCTEST:BOOTLINE5
IOCTEST:BOOTLINE6
IOCTEST:BSP_REV
IOCTEST:CA_ADDR_LIST
IOCTEST:CA_AUTO_ADDR
IOCTEST:CA_BEAC_TIME
IOCTEST:CA_CONN_TIME
IOCTEST:CA_MAX_ARRAY
IOCTEST:CA_RPTR_PORT
IOCTEST:CA_SRCH_TIME
IOCTEST:CA_SRVR_PORT
IOCTEST:ENGINEER
IOCTEST:EPICS_VERS
IOCTEST:GTIM_CUR_SRC
IOCTEST:GTIM_EVT_SRC
IOCTEST:GTIM_HI_SRC
IOCTEST:HOSTNAME
IOCTEST:IOC_LOG_INET
IOCTEST:IOC_LOG_PORT
IOCTEST:KERNEL_VERS
IOCTEST:LOCATION
IOCTEST:STARTTOD
IOCTEST:ST_SCRIPT1
IOCTEST:ST_SCRIPT2
IOCTEST:TIMEZONE
IOCTEST:TOD
IOCTEST:TS_NTP_INET
IOCTEST:UPTIME
IOCTEST:01HZ_UPD_TIME
IOCTEST:02HZ_UPD_TIME
IOCTEST:05HZ_UPD_TIME
IOCTEST:10HZ_UPD_TIME
IOCTEST:1HZ_UPD_TIME
IOCTEST:2HZ_UPD_TIME
IOCTEST:5HZ_UPD_TIME
IOCTEST:READACF
IOCTEST:SYSRESET
IOCTEST:SysReset
IOCTEST:APP_DIR
IOCTEST:BOOTLINE
IOCTEST:EPICS_VERSION
IOCTEST:ST_SCRIPT
xerox_TR1
xerox_TR2
xerox_TR3
xerox_TR4
xerox_TR5
xerox_toner_B
xerox_toner_C
xerox_toner_M
xerox_toner_Y
xerox_toner_drum_B
xerox_toner_drum_C
xerox_toner_drum_M
xerox_toner_drum_Y
xerox_toner_waste
SNMPIOC:TIMESTAMP
aliveEx:alive
epics> 

위에서 보면 aliveEx:alive 이라는 alive Ioc 의 PV 값을 정상적으로 나타난다.


hjson@ctrlhj:~/epics/R3.14.12.5/epicsLibs$ tree -L 3
.
`-- [hjson    4.0K]  synApps_5_8
    `-- [hjson    4.0K]  support
        |-- [hjson    4.0K]  alive-1-0
        |-- [hjson    4.0K]  allenBradley-2-3
        |-- [hjson    4.0K]  areaDetector-R2-0
        |-- [hjson    4.0K]  asyn-4-26
        |-- [hjson    4.0K]  autosave-5-6-1
        |-- [hjson    4.0K]  busy-1-6-1
        |-- [hjson    4.0K]  calc-3-4-2-1
        |-- [hjson    4.0K]  camac-2-7
        |-- [hjson    1.2K]  camac.patch
        |-- [hjson    4.0K]  caputRecorder-1-4-2
        |-- [hjson     667]  checkout.bat
        |-- [hjson     473]  checkout.csh
        |-- [hjson    4.0K]  configure
        |-- [hjson    4.0K]  dac128V-2-8
        |-- [hjson    4.0K]  delaygen-1-1-1
        |-- [hjson    4.0K]  devIocStats-3-1-13
        |-- [hjson    1.2K]  devIocStats.patch
        |-- [hjson     171]  dircmp.out
        |-- [hjson    4.0K]  documentation
        |-- [hjson     313]  doMake
        |-- [hjson     163]  dotag
        |-- [hjson    4.0K]  dxp-3-4
        |-- [hjson    2.7K]  export.csh
        |-- [hjson    4.0K]  ip-2-17
        |-- [hjson    4.0K]  ip330-2-8
        |-- [hjson    4.0K]  ipac-2-13
        |-- [hjson     813]  ipac.patch
        |-- [hjson    4.0K]  ipUnidig-2-10
        |-- [hjson    3.5K]  LICENSE
        |-- [hjson    4.0K]  love-3-2-5
        |-- [hjson    1.9M]  make_3.14.12.5_linux-x86_64.out
        |-- [hjson    3.5M]  make_3.15_linux-x86_64.out
        |-- [hjson    5.2K]  Makefile
        |-- [hjson    4.0K]  mca-7-6
        |-- [hjson    4.0K]  measComp-1-1
        |-- [hjson    4.0K]  modbus-2-7
        |-- [hjson    4.0K]  motor-6-9
        |-- [hjson    4.0K]  optics-2-9-3
        |-- [hjson     126]  propsetForHtml.csh
        |-- [hjson    4.0K]  quadEM-5-0
        |-- [hjson    3.4K]  README
        |-- [hjson     291]  README.tmm
        |-- [hjson    4.0K]  seq-2-2-1
        |-- [hjson     484]  seq.patch
        |-- [hjson    4.0K]  softGlue-2-4-3
        |-- [hjson    4.0K]  sscan-2-10-1
        |-- [hjson    4.0K]  std-3-4
        |-- [hjson    4.0K]  stream-2-6a
        |-- [hjson     415]  update.bat
        |-- [hjson     239]  update.csh
        |-- [hjson    4.0K]  utils
        |-- [hjson    4.0K]  vac-1-5-1
        |-- [hjson    4.0K]  vme-2-8-2
        `-- [hjson    4.0K]  xxx-5-8-3


